# Clean Code 笔记

### 有意义的命名

- 变量，函数，类等命名要反应意图
- 集合的命名要反应集合中元素的意义
- 不出现魔法值，用常量或者函数代替
- 接口和实现类，接口不要 I 打头，宁可实现类加 Impl
- 类 名词尽量简短，方法 动词

### 函数

- 尽量短小
- 减少条件分支，条件分支中最好只有一行代码

- 只做一件事（如果函数制作了该函数名下同一抽象层上的步骤）
- 参数越少越好，尽量不超过3
- 不要用 boolean 类型参数
- 抛出异常而不是返回错误码
- 消除重复代码

### 注释

- 尽量不写注释，用代码去表达
- 重要逻辑的警示
- 对意图的解释
- TODO

### 格式

- 紧密关联的逻辑写在一起，其余中间加上空格
- 相关功能函数放在一起
- 被调用的函数放在类的下面

### 对象和数据结构

- 有行为的是对象，纯封装数据的Java bean 是数据结构
- 对象应该尽量隐藏其内部细节 

### 异常处理

- 三方库的异常可以封装起来
- 参数和返回都不要有null，就可以避免绝大多数异常

### 边界

- 使用三方库，可以编写学习性测试，确保边界安全
- 对不了解的模块或服务 编写适配器

### 单元测试

- 测试越来越重要，是代码的保护壳
- TDD三定律
  - 编写不能通过的单元测试前，不可编写生成代码
  - 只可编写刚好无法通过的单元测试，不能编译也算不通过
  - 只可编写刚好足以通过当前失败测试的生产代码
- 测试代码 也要保证整洁，最重要的就是 可读性
- 构造-操作-检验